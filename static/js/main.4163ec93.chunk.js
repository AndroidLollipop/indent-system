(this["webpackJsonpindent-system"]=this["webpackJsonpindent-system"]||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t);var a,r,i=n(56),c=n(25),s=n.n(c),l=n(49),u=n(18),o=n(4),j=n(15),d=n(31),b=n(0),f=n(9),O=n(81),h=n.n(O),x=n(165),m=n(169),v=n(170),p=n(181),y=n(173),g=n(183),D=n(174),k=n(175),C=n(176),T=n(177),w=n(182),S=n(178),P=n(179),N=n(180),I=n.p+"static/media/logo.58ed9303.jpg",U=n.p+"static/media/5sirlogo.a6ac04db.jpg",E="https://murmuring-ocean-38436.herokuapp.com/",M=[],R=0,q=function(){var e=b.useState([]),t=Object(j.a)(e,2),n=t[0],i=t[1];a=i,b.useEffect((function(){return(r=h()(E,{secure:!0})).on("sendIndents",(function(e,t){if(void 0!==t){if(t<F)return;F=t,void 0!==H[t]&&H[t]()}se=Object(d.a)(e),pe()})),r.on("sendNotifications",(function(e){ue=Object(d.a)(e),Ce()})),r.emit("requestIndents",""),r.emit("requestNotifications",""),function(){r.disconnect()}}),[]);var c=b.useState(0),s=Object(j.a)(c,2),l=s[0],u=s[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(fe,{selTab:l,setSelTab:u,children:[Object(o.jsx)("div",{label:"view indents",mykey:"defaultTab1",children:Object(o.jsx)($,{setSelTab:u})},"defaultTab1"),Object(o.jsx)("div",{label:"new indent",mykey:"defaultTab2",children:Object(o.jsx)(Z,{})},"defaultTab2"),Object(o.jsx)("div",{label:"notifications",mykey:"defaultTab3",children:Object(o.jsx)(A,{setSelTab:u})},"defaultTab3")].concat(Object(d.a)(n.map((function(e,t){return Object(o.jsx)(z,{mykey:e[0],label:V(e[1]).name,removable:"true",removeCallback:function(t,n){var r;r=e[0],M=Object(d.a)(M).filter((function(e){return e[0]!==r})),J[r]=void 0,a(M);var i=Math.min(l,n-1);i>t&&u(i-1)},details:e},e[0])}))))}),Object(o.jsx)("div",{style:{height:"6px"}}),Object(o.jsx)("img",{src:U,width:"192px"})]})},A=function(e){var t=e.setSelTab,n=le(),a=b.useState(n),r=Object(j.a)(a,2),i=(r[0],r[1]);b.useEffect((function(){var e=De(i);return function(){return ke(e)}}),[]);for(var c=[],s={},l=n.length-1;l>-1;l--)!0===s[n[l].internalUID]?c.push(Object(u.a)(Object(u.a)({},n[l]),{},{latest:!1})):c.push(Object(u.a)(Object(u.a)({},n[l]),{},{latest:!0})),s[n[l].internalUID]=!0;return Object(o.jsx)(ie,{data:c,generator:function(e,n){return ne(e,e.internalUID,""+e.internalUID+n,t)},style:_})},J={},z=function(e){var t=e.details,n=Object(j.a)(t,2),a=n[0],r=n[1];void 0===J[a]&&(J[a]=V(r));var i=b.useState(J[a]),c=Object(j.a)(i,2),s=c[0],l=c[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(ie,{header:Object(o.jsx)(x.a,{children:Object(o.jsx)(m.a,{children:je.map((function(e,t){return Object(o.jsx)(v.a,{children:e.friendlyName},t)}))})}),data:[s],generator:function(e){return te(e,e.internalUID)},style:_}),Object(o.jsx)(p.a,{variant:"outlined",native:!0,value:s.status,onChange:function(e){J[a]=Object(u.a)(Object(u.a)({},J[a]),{},{status:e.target.value}),l(J[a])},children:oe.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))}),Object(o.jsx)(y.a,{variant:"outlined",onClick:function(){B(r,J[a])},children:"Save"})]})},B=function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,n);case 2:e.sent&&pe();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(e){var t=se.filter((function(t){return t.internalUID===e}));return 0===t.length?void 0:t[0]},F=0,G=0,H=[],K=function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G++,i=new Promise((function(e){return a=e})),H[G]=a,r.emit("writeDataStore",[t,n,G]),e.next=6,i;case 6:if(G!==F){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G++,a=new Promise((function(e){return n=e})),H[G]=n,r.emit("appendDataStore",[t,G]),e.next=6,a;case 6:if(G!==F){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){return se},W=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:e.sent&&pe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){for(var t=e.fields,n=e.defaults,a=[],r=b.useState(t.map((function(e){return e.initialData}))),c=Object(j.a)(r,2),s=c[0],l=c[1],u=s,f=function(){var e=O,n=t[e];a.push([s[e],function(t){(u=Object(d.a)(u))[e]=t,l(u)},n.initialData,n.name,n.friendlyName])},O=0;O<t.length;O++)f();return Object(o.jsxs)("form",{noValidate:!0,children:[Object(o.jsx)("div",{children:a.map((function(e,t){var n=Object(j.a)(e,5),a=n[0],r=n[1],i=(n[2],n[3],n[4]);return Object(o.jsx)("div",{style:Y,children:Object(o.jsx)(g.a,{multiline:!0,label:i,variant:"outlined",value:a,onChange:function(e){return r(e.target.value)}})},t)}))}),Object(o.jsx)(y.a,{variant:"outlined",onClick:function(){var e,r={},c=Object(i.a)(n);try{for(c.s();!(e=c.n()).done;){var s=e.value,u=s.name,o=s.initialData;r[u]=o}}catch(h){c.e(h)}finally{c.f()}var d,b=Object(i.a)(a);try{for(b.s();!(d=b.n()).done;){var f=Object(j.a)(d.value,4),O=f[0];f[1],f[2];r[f[3]]=O}}catch(h){b.e(h)}finally{b.f()}W(r),l(t.map((function(e){return e.initialData})))},children:"submit"})]})},Y={display:"flex",justifyContent:"center",padding:"5px"},Z=function(){return Object(o.jsx)("div",{style:_,children:Object(o.jsx)(X,{fields:je,defaults:de})})},$=function(e){var t=e.setSelTab,n=b.useState(Q()),a=Object(j.a)(n,2),r=a[0],i=a[1];return b.useEffect((function(){var e=me(i);return function(){return ve(e)}}),[]),Object(o.jsx)(ie,{header:Object(o.jsx)(x.a,{children:Object(o.jsx)(m.a,{children:be.map((function(e,t){return Object(o.jsx)(v.a,{children:e.friendlyName},t)}))})}),data:r,generator:function(e){return ee(e,e.internalUID,t)},style:_})},_={font:"20px Arial, sans-serif"},ee=function(e,t,n){return Object(o.jsxs)(m.a,{onClick:function(){re(e,t),n(1/0)},children:[Object(o.jsx)(v.a,{children:e.name}),Object(o.jsx)(v.a,{children:e.startDateTime}),Object(o.jsx)(v.a,{children:e.endDateTime}),Object(o.jsx)(v.a,{children:e.origin}),Object(o.jsx)(v.a,{children:e.destination}),Object(o.jsx)(v.a,{children:e.POC}),Object(o.jsx)(v.a,{children:e.POCPhone}),Object(o.jsx)(v.a,{children:e.status})]},e.internalUID)},te=function(e,t){return Object(o.jsxs)(m.a,{children:[Object(o.jsx)(v.a,{children:e.name}),Object(o.jsx)(v.a,{children:e.startDateTime}),Object(o.jsx)(v.a,{children:e.endDateTime}),Object(o.jsx)(v.a,{children:e.origin}),Object(o.jsx)(v.a,{children:e.destination}),Object(o.jsx)(v.a,{children:e.POC}),Object(o.jsx)(v.a,{children:e.POCPhone})]},e.internalUID)},ne=function(e,t,n,a){return Object(o.jsx)(m.a,{onClick:function(){re(e,t),a(1/0)},children:Object(o.jsx)(v.a,{style:ae(e.latest),align:"center",children:e.title})},n)},ae=function(e){return!1===e?{color:"grey"}:{}},re=function(e,t){var n;n=[R,t],(M=Object(d.a)(M)).push(n),a(M),R++},ie=function(e){var t=e.data,n=e.generator,a=(e.style,e.header),r=e.tail;return Object(o.jsx)(D.a,{children:Object(o.jsxs)(k.a,{children:[a,Object(o.jsx)(C.a,{children:t.map(n)}),r]})})},ce=function(e){var t=[];return[function(e){return t.push(e)-1},function(e){e>-1&&e<t.length&&(t[e]=function(){})},function(){var n,a=Object(i.a)(t);try{for(a.s();!(n=a.n()).done;){(0,n.value)(e())}}catch(r){a.e(r)}finally{a.f()}}]},se=[],le=function(){return ue},ue=[],oe=["Pending","Submitted","Recommended"],je=[{name:"name",initialData:"",friendlyName:"Purpose"},{name:"startDateTime",initialData:"",friendlyName:"Start time"},{name:"endDateTime",initialData:"",friendlyName:"End time"},{name:"origin",initialData:"",friendlyName:"Reporting location"},{name:"destination",initialData:"",friendlyName:"Destination"},{name:"POC",initialData:"",friendlyName:"Contact person"},{name:"POCPhone",initialData:"",friendlyName:"Contact person number"}],de=[{name:"status",initialData:"Pending",friendlyName:"Status"}],be=[].concat(je,de),fe=function(e){var t=e.children,n=e.selTab,a=e.setSelTab,r=[Object(o.jsx)("div",{style:{height:"48px",width:"48px"},children:Object(o.jsx)("img",{src:I,height:"48px",width:"48px"})})];return Object(o.jsxs)("div",{children:[Object(o.jsx)(T.a,{position:"static",children:Object(o.jsx)(w.a,{variant:"scrollable",value:Math.min(n,t.length-1)+r.length,children:[].concat(r,Object(d.a)(t.map((function(e,r){var i=Object(u.a)(Object(u.a)({},e.props),{},{removeCallback:function(){return e.props.removeCallback(r,t.length)},onClick:function(){a(r)},active:r===Math.min(n,t.length-1),key:e.props.mykey});return Object(o.jsx)(Oe,Object(u.a)({},i))}))))})}),Object(o.jsx)("div",{children:t[Math.min(n,t.length-1)]})]})},Oe=function(e){var t=e.label,n=e.onClick,a=e.active,r=e.removable,i=e.removeCallback;return Object(o.jsx)(S.a,{style:{padding:0},disableRipple:!0,selected:!0,label:Object(o.jsxs)("span",{children:[Object(o.jsx)(S.a,{label:t,onClick:n,selected:!!a||null}),r?Object(o.jsx)(P.a,{size:"small",onClick:i,children:Object(o.jsx)(N.a,{style:{fill:"red"}})}):void 0]})})},he=ce(Q),xe=Object(j.a)(he,3),me=xe[0],ve=xe[1],pe=xe[2],ye=ce(le),ge=Object(j.a)(ye,3),De=ge[0],ke=ge[1],Ce=ge[2];f.render(Object(o.jsx)("div",{style:{textAlign:"center"},children:Object(o.jsx)(q,{})}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.4163ec93.chunk.js.map